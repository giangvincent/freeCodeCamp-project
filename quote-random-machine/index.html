<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>FCC: Random Quote Machine</title>

    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
      integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
      crossorigin="anonymous"
    />

    <script
      src="https://code.jquery.com/jquery-3.6.4.min.js"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js"
      integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js"
      integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
      crossorigin="anonymous"
    ></script>

    <link rel="stylesheet" href="main.css" />
  </head>
  <body>
    <main>
      <section id="quote-box" class="p-5">
        <blockquote class="blockquote text-center">
          <q class="mb-0 text-white h3 mb-2" id="text">
            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer
            posuere erat a ante.
          </q>
          <footer class="blockquote-footer text-white text-right" id="author">
            Someone famous in
          </footer>
        </blockquote>
        <div id="quote-buttons" class="mt-3">
          <a id="tweet-quote" class="btn btn-primary">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              xmlns:xlink="http://www.w3.org/1999/xlink"
              viewBox="0,0,256,256"
              width="26px"
              height="26px"
              fill-rule="nonzero"
            >
              <g
                fill="#ffffff"
                fill-rule="nonzero"
                stroke="none"
                stroke-width="1"
                stroke-linecap="butt"
                stroke-linejoin="miter"
                stroke-miterlimit="10"
                stroke-dasharray=""
                stroke-dashoffset="0"
                font-family="none"
                font-weight="none"
                font-size="none"
                text-anchor="none"
                style="mix-blend-mode: normal"
              >
                <g transform="scale(9.84615,9.84615)">
                  <path
                    d="M25.85547,5.57422c-0.94141,0.41797 -1.95312,0.69922 -3.01562,0.82813c1.08203,-0.65234 1.91797,-1.67969 2.30859,-2.90625c-1.01562,0.60156 -2.14062,1.03906 -3.33594,1.27344c-0.95703,-1.01953 -2.32031,-1.65625 -3.83203,-1.65625c-2.89844,0 -5.25,2.35156 -5.25,5.25c0,0.41016 0.04688,0.8125 0.13672,1.19531c-4.36328,-0.21875 -8.23047,-2.3125 -10.82031,-5.48828c-0.45312,0.77734 -0.71094,1.67969 -0.71094,2.64453c0,1.82031 0.92578,3.42578 2.33594,4.36719c-0.86328,-0.02734 -1.67187,-0.26172 -2.37891,-0.65625c0,0.02344 0,0.04297 0,0.06641c0,2.54297 1.80859,4.66406 4.21094,5.14844c-0.44141,0.12109 -0.90234,0.18359 -1.38281,0.18359c-0.33984,0 -0.66797,-0.03125 -0.98828,-0.09375c0.66797,2.08203 2.60547,3.60547 4.90234,3.64453c-1.79297,1.41016 -4.05859,2.24609 -6.51953,2.24609c-0.42578,0 -0.83984,-0.02344 -1.25,-0.07031c2.32031,1.48828 5.08203,2.35547 8.04688,2.35547c9.65625,0 14.9375,-8 14.9375,-14.93359c0,-0.23047 -0.00391,-0.45703 -0.01562,-0.68359c1.02734,-0.73438 1.91797,-1.66016 2.62109,-2.71484"
                  ></path>
                </g>
              </g>
            </svg>
          </a>
          <button class="btn btn-warning" id="new-quote">New quote</button>
        </div>
      </section>
    </main>
    <script>
      function getRandomColor() {
        var letters = "0123456789ABCDEF";
        var color = "#";
        for (var i = 0; i < 6; i++) {
          color += letters[Math.floor(Math.random() * 16)];
        }
        return color;
      }
      let quoteContent = '';
      function getRandomQuote() {
        $.get("https://api.quotable.io/random", function (data) {
          updateQuote(data);
        });
      }

      function updateQuote(data) {
        $("main").css("background-color", getRandomColor());
        $("#quote-box").css("background-color", getRandomColor());
        $("#text").html(data.content);
        $("#author").html(data.author);
        quoteContent = data.content
      }

      getRandomQuote();
      $(document).on("click", "#new-quote", function (e) {
        e.preventDefault();
        getRandomQuote();
      });

      $(document).on('click', '#tweet-quote', function(e) {
        e.preventDefault();
        console.log(encodeURIComponent(quoteContent))
        window.open("https://twitter.com/intent/tweet?text=" + encodeURIComponent(quoteContent));
      })
    </script>
  </body>
</html>
